(this["webpackJsonpissued-crypto-currencies"]=this["webpackJsonpissued-crypto-currencies"]||[]).push([[0],{339:function(e,t,n){},346:function(e,t,n){},370:function(e,t){},372:function(e,t){},382:function(e,t){},384:function(e,t){},395:function(e,t){},403:function(e,t){},417:function(e,t){},538:function(e,t){},598:function(e,t){},600:function(e,t){},607:function(e,t){},608:function(e,t){},693:function(e,t,n){},694:function(e,t,n){},696:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(49),s=n.n(c),i=(n(339),n(64)),o=n(22),l=n(702),u=n(0);var d=function(){var e=Object(o.f)(),t=function(t){e.push(t)};return Object(u.jsxs)("div",{className:"container py-4",children:[Object(u.jsx)("div",{className:"p-5 mb-4 bg-light rounded-3 mt-5",children:Object(u.jsxs)("div",{className:"container-fluid py-5",children:[Object(u.jsx)("h1",{className:"display-5 fw-bold",children:"Introducing RippleGraph"}),Object(u.jsx)("p",{className:"col-md-8 fs-4",children:"RippleGraph is an open-source XRP Ledger graph composer. It lets you easily build topologies of interconnected accounts and send payments between them."}),Object(u.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){return t("/builder")},children:"Start Building"})]})}),Object(u.jsxs)("div",{className:"row align-items-md-stretch",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsxs)("div",{className:"h-100 p-5 text-white bg-dark rounded-3",children:[Object(u.jsx)("h2",{children:"View the Graph"}),Object(u.jsx)("p",{children:"Visualize a network graph with the graph explorer."}),Object(u.jsx)("button",{className:"btn btn-outline-light",type:"button",onClick:function(){return t("/explorer")},children:"Explore"})]})}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsxs)("div",{className:"h-100 p-5 bg-light rounded-3",children:[Object(u.jsx)("h2",{children:"Validate Paths"}),Object(u.jsx)("p",{children:"Check for valid paths and execute payments against them."}),Object(u.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return t("/validator")},children:"Validate"})]})})]})]})},p=n(32),j=n(151),b=(n(346),JSON.parse(localStorage.getItem("graph"))||{nodes:[],links:[]});var h=function(){var e=r.a.useRef(null);return r.a.useEffect((function(){var e=p.h(p.i),t={nodes:[],links:[]};b.nodes.forEach((function(e,n){t.nodes.push({node:e}),t.nodes.push({node:e}),t.links.push({source:2*n,target:2*n+1})}));var n=p.e(t.nodes).force("charge",p.d().strength(-50)).force("link",p.c(t.links).distance(0).strength(2)),a=p.e(b.nodes).force("charge",p.d().strength(-3e3)).force("center",p.b(window.innerWidth/2,window.innerHeight/2)).force("x",p.f(window.innerWidth/2).strength(1)).force("y",p.g(window.innerHeight/2).strength(1)).force("link",p.c(b.links).id((function(e){return e.id})).distance(50).strength(1)).on("tick",(function(){l.call(f),o.call(h),n.alphaTarget(.3).restart(),u.each((function(e,t){if(t%2===0)e.x=e.node.x,e.y=e.node.y;else{var n=this.getBBox(),a=e.x-e.node.x,r=e.y-e.node.y,c=Math.sqrt(a*a+r*r),s=n.width*(a-c)/(2*c);s=Math.max(-n.width,Math.min(0,s));this.setAttribute("transform","translate("+s+",16)")}})),u.call(f)})),r=[];function c(e,t){return e===t||r[e+"-"+t]}b.links.forEach((function(e){r[e.source.index+"-"+e.target.index]=!0,r[e.target.index+"-"+e.source.index]=!0}));var s=p.j("svg").attr("width","100%").attr("height","100%"),i=s.append("g");s.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 35 10").attr("refX",20).attr("refY",0).attr("orient","auto").attr("markerWidth",15).attr("markerHeight",15).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#999").style("stroke","none"),s.call(p.l().scaleExtent([.1,4]).on("zoom",(function(e){i.attr("transform",e.transform)})));var o=i.append("g").attr("class","links").selectAll("line").data(b.links).enter().append("line").attr("stroke","#aaa").attr("stroke-width","1px").attr("id",(function(e,t){return"link-"+t})).attr("marker-end","url(#arrowhead)"),l=i.append("g").attr("class","nodes").selectAll("g").data(b.nodes).enter().append("circle").attr("r",5).attr("fill",(function(t){return e(t.group)}));l.on("mouseover",(function(e,t){var n=p.j(e.target).datum().index;l.style("opacity",(function(e){return c(n,e.index)?1:.1})),u.attr("display",(function(e){return c(n,e.node.index)?"block":"none"})),o.style("opacity",(function(e){return e.source.index===n||e.target.index===n?1:.1}))})).on("mouseout",(function(){u.attr("display","block"),l.style("opacity",1),o.style("opacity",1)})),o.on("mouseover",(function(e,t){var n=document.getElementById(e.target.id);new j.a(n,{title:"RippleState",content:"".concat(JSON.stringify(t.rippleState,null,2))}).show()})).on("mouseout",(function(e,t){var n=document.getElementById(e.target.id);j.a.getInstance(n).dispose()})),l.call(p.a().on("start",(function(e,t){e.sourceEvent.stopPropagation(),e.active||a.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y})).on("drag",(function(e,t){t.fx=e.x,t.fy=e.y})).on("end",(function(e,t){e.active||a.alphaTarget(0);t.fx=null,t.fy=null})));var u=i.append("g").attr("class","labelNodes").selectAll("text").data(t.nodes).enter().append("text").text((function(e,t){return t%2===0?"":e.node.id})).style("fill","#555").style("font-family","Arial").style("font-size",12).style("pointer-events","none");function d(e){return isFinite(e)?e:0}function h(e){e.attr("x1",(function(e){return d(e.source.x)})).attr("y1",(function(e){return d(e.source.y)})).attr("x2",(function(e){return d(e.target.x)})).attr("y2",(function(e){return d(e.target.y)}))}function f(e){e.attr("transform",(function(e){return"translate("+d(e.x)+","+d(e.y)+")"}))}return function(){p.k("svg > *").remove()}}),[]),Object(u.jsx)("svg",{ref:e,width:"100vw",height:"100vh",className:"Graph"})},f=n(3),x=n.n(f),g=n(12),m=n(9),O=n(704),v=n(700),y=n(703);var w,N=function(e){var t=e.show,n=e.handleClose;return Object(u.jsxs)(y.a,{show:t,onHide:n,children:[Object(u.jsx)(y.a.Header,{children:Object(u.jsx)(y.a.Title,{children:"In Progress..."})}),Object(u.jsx)(y.a.Body,{children:Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:200},children:Object(u.jsx)("span",{className:"fa fa-spin fa-spinner fa-3x"})})})]})},S=n(17),k=n(2),C=n(705),T=n(282),I=n.n(T),L=n(283),A=n(284),J=n.n(A);function V(e){return new Promise((function(t){setTimeout(t,e)}))}var E=new L.RippleAPI({server:"wss://s.altnet.rippletest.net:51233"});function R(){return P.apply(this,arguments)}function P(){return(P=Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.generateAddress({test:!0}),e.next=3,J()("https://faucet.altnet.rippletest.net/accounts",{method:"POST",headers:{"Content-Type":"application/json"},data:{destination:t.classicAddress,xrpAmount:"100"}});case 3:return e.next=5,V(1e4);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return B.apply(this,arguments)}function B(){return(B=Object(g.a)(x.a.mark((function e(t){var n,a,r,c,s,i,o,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rrrrrrrrrrrrrrrrrrrrBZbvji",e.next=3,E.prepareSettings(t.xAddress,{regularKey:"rrrrrrrrrrrrrrrrrrrrBZbvji",disableMasterKey:!0,defaultRipple:!0});case 3:return n=e.sent,e.next=6,E.getLedgerVersion();case 6:return a=e.sent,r=n.instructions.maxLedgerVersion,c=E.sign(n.txJSON,t.secret),s=c.id,i=c.signedTransaction,e.next=13,E.submit(i);case 13:return o=e.sent,console.log(o),l=a+1,e.next=18,W(s,l,r);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return M.apply(this,arguments)}function M(){return(M=Object(g.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getTrustlines(t);case 2:return a=e.sent,e.abrupt("return",a.some((function(e){return e.specification.counterparty===n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return H.apply(this,arguments)}function H(){return(H=Object(g.a)(x.a.mark((function e(t,n){var a,r,c,s,i,o,l,u,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating trust line from ".concat(t.address," to ").concat(n)),a={currency:"AUR",counterparty:n,limit:"999999999",qualityIn:1,qualityOut:1,ripplingDisabled:!1,frozen:!1,memos:[{type:"test",format:"text/plain",data:"Apex Dev Summit"}]},e.next=4,E.prepareTrustline(t.address,a);case 4:return r=e.sent,c=r.instructions.maxLedgerVersion,s=E.sign(r.txJSON,t.secret),i=s.id,console.log("Identifying hash:",i),o=s.signedTransaction,console.log("Signed blob:",o),e.next=13,E.submit(o);case 13:return l=e.sent,console.log("Tentative result code:",l.resultCode),console.log("Tentative result message:",l.resultMessage),e.next=18,E.getLedgerVersion();case 18:return u=e.sent,d=u+1,e.next=22,W(i,d,c);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return z.apply(this,arguments)}function z(){return(z=Object(g.a)(x.a.mark((function e(t){var n,a,r,c,s,i,o,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Enabling rippling for ".concat(t.address)),e.next=3,E.prepareSettings(t.address,{defaultRipple:!0});case 3:return n=e.sent,a=n.instructions.maxLedgerVersion,r=E.sign(n.txJSON,t.secret),c=r.id,s=r.signedTransaction,e.next=10,E.submit(s);case 10:return i=e.sent,console.log(i.resultCode,i.resultMessage),e.next=14,E.getLedgerVersion();case 14:return o=e.sent,l=o+1,e.next=18,W(c,l,a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n){return _.apply(this,arguments)}function _(){return(_=Object(g.a)(x.a.mark((function e(t,n,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=setInterval(Object(g.a)(x.a.mark((function c(){var s;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,E.getTransaction(t,{minLedgerVersion:n});case 3:s=c.sent,clearInterval(r),"tesSUCCESS"!==s.outcome.result&&e(!1),e(s),c.next=14;break;case 9:if(c.prev=9,c.t0=c.catch(0),"Transaction has not been validated yet; try again later","Transaction has not been validated yet; try again later"!==c.t0.message){c.next=14;break}return c.abrupt("return");case 14:w>a&&(clearInterval(r),e(!1));case 15:case"end":return c.stop()}}),c,null,[[0,9]])}))),1e3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return X.apply(this,arguments)}function X(){return(X=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getTrustlines(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(g.a)(x.a.mark((function e(t){var n,a,r,c,s,i,o,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.prepareTransaction({TransactionType:"AccountDelete"});case 2:return n=e.sent,a=n.instructions.maxLedgerVersion,console.log("preparedTx:",n),console.log("Transaction cost:",n.instructions.fee,"XRP"),console.log("Transaction expires after ledger:",a),r=E.sign(n.txJSON,t.secret),c=r.id,console.log("Identifying hash:",c),s=r.signedTransaction,console.log("Signed blob:",s),e.next=14,E.submit(s);case 14:return i=e.sent,console.log("Tentative result code:",i.resultCode),console.log("Tentative result message:",i.resultMessage),e.next=19,E.getLedgerVersion();case 19:return o=e.sent,l=o+1,e.next=23,W(c,l,a);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=Object(g.a)(x.a.mark((function e(t,n,a){var r,c,s,i,o,l,u,d,p;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getLedgerVersion();case 2:return r=e.sent,c={TransactionType:"Payment",Account:t.address,Amount:a,Destination:n,LastLedgerSequence:r+15},e.next=6,E.prepareTransaction(c);case 6:return s=e.sent,i=s.instructions.maxLedgerVersion,console.log("preparedTx:",s),console.log("Transaction cost:",s.instructions.fee,"XRP"),console.log("Transaction expires after ledger:",i),o=E.sign(s.txJSON,t.secret),l=o.id,console.log("Identifying hash:",l),u=o.signedTransaction,console.log("Signed blob:",u),e.next=18,E.getLedgerVersion();case 18:return r=e.sent,e.next=21,E.submit(u);case 21:if("tesSUCCESS"===(d=e.sent).resultCode){e.next=24;break}return e.abrupt("return",d);case 24:return console.log("Tentative result code:",d.resultCode),console.log("Tentative result message:",d.resultMessage),p=r+1,e.next=29,W(l,p,i);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E.on("ledger",function(){var e=Object(g.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w=t.ledgerVersion,console.log("Ledger version",t.ledgerVersion,"was validated.");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var $=window.localStorage.getItem("graph"),ee=I()(JSON.parse($));function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(g.a)(x.a.mark((function e(t){var n,a,r,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=t.defaultRipple,(r=(r=window.localStorage.getItem("accounts"))?JSON.parse(r):{})[n]){e.next=16;break}return e.next=6,R();case 6:if(c=e.sent,a){e.next=10;break}return e.next=10,F(c);case 10:r[n]=Object(k.a)({account:c},t),s=JSON.stringify(r,null,2),window.localStorage.setItem("accounts",s),console.log("".concat(n,":"),c.address),e.next=17;break;case 16:throw Error("An account with this ID already exists.");case 17:ee.addNode(n),window.localStorage.setItem("graph",JSON.stringify(ee.serialize()));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(g.a)(x.a.mark((function e(t,n,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=window.localStorage.getItem("accounts"))?JSON.parse(r):{},e.next=4,D(r[t].account.address,r[n].account.address);case 4:if(e.sent){e.next=7;break}return e.next=7,U(r[t].account,r[n].account.address);case 7:ee.addEdge(t,n),ee.setEdgeWeight(t,n,0),window.localStorage.setItem("graph",JSON.stringify(ee.serialize()));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(window.localStorage.getItem("accounts")),e.next=3,K(n[t].account);case 3:ee.adjacent(t).forEach((function(e){ee.removeEdge(t,e)})),ee.removeNode(t),window.localStorage.setItem("graph",JSON.stringify(ee.serialize())),delete n[t],window.localStorage.setItem("accounts",JSON.stringify(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=Object(g.a)(x.a.mark((function e(t,n,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,n,a);case 2:return r=e.sent,console.log(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(e){var t=e.show,n=e.handleClose,a=r.a.useState(!1),c=Object(m.a)(a,2),s=c[0],i=c[1],o=r.a.useState({id:"",defaultRipple:!1,blackholed:!1}),l=Object(m.a)(o,2),d=l[0],p=l[1],j=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,E.connect();case 3:return e.next=5,te(d);case 5:return e.next=7,E.disconnect();case 7:i(!1),n();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(y.a,{show:t,onHide:n,children:[Object(u.jsx)(y.a.Header,{children:Object(u.jsx)(y.a.Title,{children:"Create Node"})}),Object(u.jsx)(y.a.Body,{children:Object(u.jsxs)(C.a,{children:[Object(u.jsxs)(C.a.Group,{className:"mb-3",controlId:"node.Id",children:[Object(u.jsx)(C.a.Label,{children:"Identifier"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:function(e){e.target.value=e.target.value.toUpperCase().replace(" ","_").replace(/[\W]+/g,""),p(Object(k.a)(Object(k.a)({},d),{},Object(S.a)({},e.target.name,e.target.value)))},name:"id"})]}),Object(u.jsx)(C.a.Group,{className:"mb-3",controlId:"node.defaultRipple",children:Object(u.jsx)(C.a.Check,{name:"defaultRipple",type:"checkbox",label:"No Ripple",onChange:function(e){p(Object(k.a)(Object(k.a)({},d),{},Object(S.a)({},e.target.name,e.target.checked)))}})})]})}),Object(u.jsxs)(y.a.Footer,{children:[Object(u.jsx)(v.a,{variant:"secondary",onClick:n,disabled:s,children:"Cancel"}),Object(u.jsx)(v.a,{variant:"primary",onClick:j,disabled:s,children:s?Object(u.jsx)("i",{className:"fas fa-spin fa-spinner"}):"Save"})]})]})},le=n(287),ue=n(706),de=n(285);var pe=function(e){var t=e.show,n=e.handleClose,a=e.selectedNode,c=r.a.useState(!1),s=Object(m.a)(c,2),i=s[0],o=s[1],l=r.a.useState(),d=Object(m.a)(l,2),p=d[0],j=d[1],b=r.a.useState(0),h=Object(m.a)(b,2),f=h[0],O=h[1],w=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,ae(a,p,f);case 3:o(!1),n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(y.a,{show:t,onHide:n,children:[Object(u.jsx)(y.a.Header,{children:Object(u.jsx)(y.a.Title,{children:"Create Trust Line"})}),Object(u.jsx)(y.a.Body,{children:Object(u.jsxs)(C.a,{children:[Object(u.jsxs)(C.a.Group,{className:"mb-3",children:[Object(u.jsx)(C.a.Label,{children:"Source Node"}),Object(u.jsx)(C.a.Control,{type:"text",name:"source",value:a,disabled:!0})]}),Object(u.jsx)(C.a.Group,{className:"mb-3",children:Object(u.jsx)(le.a,{controlId:"floatingSelect",label:"Target Node",children:Object(u.jsxs)(C.a.Control,{as:"select","aria-label":"Target Node",onChange:function(e){e.target.value=e.target.value.toUpperCase().replace(" ","_").replace(/[\W]+/g,""),j(e.target.value)},children:[Object(u.jsx)("option",{children:"Select a target node"}),function(){var e=JSON.parse(localStorage.getItem("accounts"));return Object.keys(e).map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))}()]})})}),Object(u.jsxs)(ue.a,{className:"mb-3",children:[Object(u.jsx)(de.a,{type:"number",onChange:function(e){O(e.target.value)},value:f}),Object(u.jsx)(v.a,{variant:"outline-secondary",onClick:function(){return O(999999999)},children:"Max"})]})]})}),Object(u.jsxs)(y.a.Footer,{children:[Object(u.jsx)(v.a,{variant:"secondary",onClick:n,disabled:i,children:"Cancel"}),Object(u.jsx)(v.a,{variant:"primary",onClick:w,disabled:i,children:i?Object(u.jsx)("i",{className:"fas fa-spin fa-spinner"}):"Save"})]})]})};n(693);var je=function(){var e=Object(o.f)(),t=Object(o.h)().path,n=r.a.useState(void 0),a=Object(m.a)(n,2),c=a[0],s=a[1],i=r.a.useState(!1),l=Object(m.a)(i,2),d=l[0],p=l[1],j=r.a.useState(!1),b=Object(m.a)(j,2),h=b[0],f=b[1],y=r.a.useState(!1),w=Object(m.a)(y,2),S=w[0],k=w[1],C=r.a.useState(void 0),T=Object(m.a)(C,2),I=T[0],L=T[1],A=r.a.useState(JSON.parse(localStorage.getItem("accounts"))||{}),J=Object(m.a)(A,2),V=J[0],R=J[1],P=0!==Object.keys(V).length,B=Object(o.g)(),D=function(){var e=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,G(V[c].account);case 3:V[c].blackholed=!0,localStorage.setItem("accounts",JSON.stringify(V)),R(V),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){Object(g.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||!V[c]){e.next=9;break}return e.next=3,E.connect();case 3:return e.next=5,q(V[c].account.address);case 5:return t=e.sent,L(t),e.next=9,E.disconnect();case 9:case"end":return e.stop()}}),e)})))()}),[c,V]),r.a.useEffect((function(){B.pathname.match(new RegExp("/builder/*."))&&s(B.pathname.split("/")[2])}),[B.pathname]),Object(u.jsxs)("div",{className:"container-fluid mt-5",children:[Object(u.jsx)(N,{show:d,handleClose:function(){return p(!1)}}),Object(u.jsx)(oe,{show:h,handleClose:function(){f(!1),R(JSON.parse(localStorage.getItem("accounts")))}}),Object(u.jsx)(pe,{show:S,handleClose:function(){k(!1),R(JSON.parse(localStorage.getItem("accounts")))},selectedNode:c}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-3",children:[Object(u.jsx)("h4",{children:"Nodes"}),Object(u.jsx)("p",{className:"text-muted",children:"Please select a node from the list below or create a new node."}),Object(u.jsx)(O.a,{as:"ul",children:P?Object.keys(V).map((function(t){return Object(u.jsx)(O.a.Item,{as:"li",active:B.pathname==="/builder/".concat(t),onClick:function(){s(t),e.push("/builder/".concat(t))},children:t},t)})):"No nodes created."}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(v.a,{variant:"secondary",className:"mt-5",onClick:function(){return f(!0)},children:"Create Node"})})]}),Object(u.jsx)("div",{className:"col-md-6 bg-light px-5 py-5",children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:t,children:Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:"Select a node to view info."})}),Object(u.jsxs)(o.a,{path:"".concat(t,"/:nodeId"),children:[Object(u.jsx)("h5",{children:"Account"}),Object(u.jsx)("pre",{children:JSON.stringify(V[c],null,2)}),Object(u.jsx)("h5",{className:"mt-5",children:"Trust Lines"}),I?Object(u.jsx)("pre",{children:JSON.stringify(I,null,2)}):"No account trust lines."]})]})}),Object(u.jsxs)("div",{className:"col-md-3",children:[Object(u.jsx)("h4",{className:"mb-3",children:"Actions"}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(v.a,{variant:"primary",className:"mb-3",disabled:!c,onClick:function(){return k(!0)},children:"Create Trust Line"})}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(v.a,{variant:"primary",className:"mb-3",disabled:!c,onClick:function(){e.push("/validator?account=".concat(c))},children:"Send Payment"})}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(v.a,{variant:"primary",className:"mb-3",disabled:!c,onClick:D,children:"Blackhole Account"})}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(v.a,{variant:"primary",className:"mb-3",disabled:!c,onClick:function(){!function(e){ce.apply(this,arguments)}(c)},children:"Delete Account"})})]})]})]})},be=n(701),he=n(286);var fe=function(){var e=new URLSearchParams(Object(o.g)().search),t=r.a.useState(!1),n=Object(m.a)(t,2),a=n[0],c=n[1],s=r.a.useState(e.get("account")),i=Object(m.a)(s,2),l=i[0],d=i[1],p=r.a.useState("AUR"),j=Object(m.a)(p,2),b=j[0],h=j[1],f=r.a.useState(1),O=Object(m.a)(f,2),y=O[0],w=O[1],N=r.a.useState(""),S=Object(m.a)(N,2),k=S[0],T=S[1],I=r.a.useState("AUR"),L=Object(m.a)(I,2),A=L[0],J=L[1],V=r.a.useState(1),R=Object(m.a)(V,2),P=R[0],G=R[1],B=r.a.useState(""),D=Object(m.a)(B,2),M=D[0],U=D[1],H=r.a.useState(""),F=Object(m.a)(H,2),z=F[0],W=F[1],_=JSON.parse(localStorage.getItem("accounts")),q=r.a.useState(),X=Object(m.a)(q,2),K=X[0],Z=X[1];r.a.useEffect((function(){var e="wss://s.altnet.rippletest.net:51233/",t=new WebSocket(e);return t.onopen=function(){l&&z&&k&&M&&t.send(JSON.stringify({command:"path_find",destination_account:_[z].account.address,destination_amount:{value:y,currency:b,issuer:_[k].account.address},currency:"AUR",issuer:_[k].account.address,value:"1",id:8,source_account:_[l].account.address,subcommand:"create"}))},t.onmessage=function(e){var t=JSON.parse(e.data);Z(t)},t.onclose=function(){console.log("Disconnected from ".concat(e))},function(){t.close()}}),[l,z,k,M,_,b,y]);var Y=function(){var e=Object(g.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t={currency:b,issuer:_[k].account.address,value:y.toString()},e.next=4,E.connect();case 4:return e.next=6,se(_[l].account,_[z].account.address,t);case 6:return n=e.sent,alert(JSON.stringify(n)),e.next=10,E.disconnect();case 10:c(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,W(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,w(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,h(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,T(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,G(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,J(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(g.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,U(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"container mt-5",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("h4",{children:"Payment Form"}),Object(u.jsxs)("p",{className:"text-muted border rounded p-3",children:[Object(u.jsx)("span",{className:"fa fa-info-circle"})," Use node IDs instead of account addresses."]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)("h4",{children:"Source"}),Object(u.jsxs)(be.a,{className:"mb-3",children:[Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Source Account"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:Q,defaultValue:l})]}),Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Max Amount"}),Object(u.jsx)(C.a.Control,{type:"number",onChange:ae,defaultValue:P})]})]}),Object(u.jsxs)(be.a,{className:"mb-3",children:[Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Currency"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:re,defaultValue:A})]}),Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Issuer"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:ce,defaultValue:M})]})]}),Object(u.jsx)("h4",{children:"Destination"}),Object(u.jsxs)(be.a,{className:"mb-3",children:[Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Destination Account"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:$,defaultValue:z})]}),Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Destination Amount"}),Object(u.jsx)(C.a.Control,{type:"number",onChange:ee,defaultValue:y})]})]}),Object(u.jsxs)(be.a,{className:"mb-3",children:[Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Destination Currency"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:te,defaultValue:b})]}),Object(u.jsxs)(C.a.Group,{as:he.a,children:[Object(u.jsx)(C.a.Label,{children:"Destination Issuer"}),Object(u.jsx)(C.a.Control,{type:"text",onChange:ne,defaultValue:k})]})]})]}),Object(u.jsx)(v.a,{variant:"primary",onClick:Y,disabled:a,children:a?Object(u.jsx)("i",{className:"fas fa-spin fa-spinner"}):"Submit"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("h4",{children:"Valid Paths"}),Object(u.jsx)("pre",{className:"bg-light p-5",children:JSON.stringify(K,null,2)})]})]})})};n(694);var xe=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:["RippleGraph ",Object(u.jsx)(l.a,{bg:"primary",pill:!0,children:"BETA"})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/explorer",children:"Explorer"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/builder",children:"Builder"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/validator",children:"Validator"})})]}),Object(u.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",id:"downloadAnchorElem",onClick:function(){var e=JSON.stringify(localStorage.getItem("graph")),t="data:text/json;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","graph.json"),document.body.appendChild(n),n.click(),n.remove()},children:"Download"})]})]})]})}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(d,{})}),Object(u.jsx)(o.a,{path:"/explorer",children:Object(u.jsx)(h,{})}),Object(u.jsx)(o.a,{path:"/builder",children:Object(u.jsx)(je,{})}),Object(u.jsx)(o.a,{path:"/validator",children:Object(u.jsx)(fe,{})})]})]})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,707)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(695);s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(xe,{})}),document.getElementById("root")),ge()}},[[696,1,2]]]);
//# sourceMappingURL=main.43172b4f.chunk.js.map