(this["webpackJsonpissued-crypto-currencies"]=this["webpackJsonpissued-crypto-currencies"]||[]).push([[0],{339:function(e,t,n){},346:function(e,t,n){},370:function(e,t){},372:function(e,t){},382:function(e,t){},384:function(e,t){},395:function(e,t){},403:function(e,t){},417:function(e,t){},538:function(e,t){},598:function(e,t){},600:function(e,t){},607:function(e,t){},608:function(e,t){},693:function(e,t,n){},694:function(e,t,n){},696:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(49),s=n.n(c),i=(n(339),n(64)),o=n(22),l=n(702),u=n(0);var d=function(){var e=Object(o.f)(),t=function(t){e.push(t)};return Object(u.jsxs)("div",{className:"container py-4",children:[Object(u.jsx)("div",{className:"p-5 mb-4 bg-light rounded-3 mt-5",children:Object(u.jsxs)("div",{className:"container-fluid py-5",children:[Object(u.jsx)("h1",{className:"display-5 fw-bold",children:"Introducing RippleGraph"}),Object(u.jsx)("p",{className:"col-md-8 fs-4",children:"RippleGraph is an open-source XRP Ledger graph composer. It lets you easily build topologies of interconnected accounts and send payments between them."}),Object(u.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){return t("/builder")},children:"Start Building"})]})}),Object(u.jsxs)("div",{className:"row align-items-md-stretch",children:[Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsxs)("div",{className:"h-100 p-5 text-white bg-dark rounded-3",children:[Object(u.jsx)("h2",{children:"View the Graph"}),Object(u.jsx)("p",{children:"Visualize a network graph with the graph explorer."}),Object(u.jsx)("button",{className:"btn btn-outline-light",type:"button",onClick:function(){return t("/explorer")},children:"Explore"})]})}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsxs)("div",{className:"h-100 p-5 bg-light rounded-3",children:[Object(u.jsx)("h2",{children:"Validate Paths"}),Object(u.jsx)("p",{children:"Check for valid paths and execute payments against them."}),Object(u.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return t("/validator")},children:"Validate"})]})})]})]})},p=n(32),j=n(151);n(346);var h=function(){var e=JSON.parse(localStorage.getItem("graph"))||{nodes:[],links:[]},t=r.a.useRef(null);return r.a.useEffect((function(){var t=p.h(p.i),n={nodes:[],links:[]};e.nodes.forEach((function(e,t){n.nodes.push({node:e}),n.nodes.push({node:e}),n.links.push({source:2*t,target:2*t+1})}));var a=p.e(n.nodes).force("charge",p.d().strength(-50)).force("link",p.c(n.links).distance(0).strength(2)),r=p.e(e.nodes).force("charge",p.d().strength(-3e3)).force("center",p.b(window.innerWidth/2,window.innerHeight/2)).force("x",p.f(window.innerWidth/2).strength(1)).force("y",p.g(window.innerHeight/2).strength(1)).force("link",p.c(e.links).id((function(e){return e.id})).distance(50).strength(1)).on("tick",(function(){u.call(f),l.call(b),a.alphaTarget(.3).restart(),d.each((function(e,t){if(t%2===0)e.x=e.node.x,e.y=e.node.y;else{var n=this.getBBox(),a=e.x-e.node.x,r=e.y-e.node.y,c=Math.sqrt(a*a+r*r),s=n.width*(a-c)/(2*c);s=Math.max(-n.width,Math.min(0,s));this.setAttribute("transform","translate("+s+",16)")}})),d.call(f)})),c=[];function s(e,t){return e===t||c[e+"-"+t]}e.links.forEach((function(e){c[e.source.index+"-"+e.target.index]=!0,c[e.target.index+"-"+e.source.index]=!0}));var i=p.j("svg").attr("width","100%").attr("height","100%"),o=i.append("g");i.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 35 10").attr("refX",20).attr("refY",0).attr("orient","auto").attr("markerWidth",15).attr("markerHeight",15).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#999").style("stroke","none"),i.call(p.l().scaleExtent([.1,4]).on("zoom",(function(e){o.attr("transform",e.transform)})));var l=o.append("g").attr("class","links").selectAll("line").data(e.links).enter().append("line").attr("stroke","#aaa").attr("stroke-width","1px").attr("id",(function(e,t){return"link-"+t})).attr("marker-end","url(#arrowhead)"),u=o.append("g").attr("class","nodes").selectAll("g").data(e.nodes).enter().append("circle").attr("r",5).attr("fill",(function(e){return t(e.group)}));u.on("mouseover",(function(e,t){var n=p.j(e.target).datum().index;u.style("opacity",(function(e){return s(n,e.index)?1:.1})),d.attr("display",(function(e){return s(n,e.node.index)?"block":"none"})),l.style("opacity",(function(e){return e.source.index===n||e.target.index===n?1:.1}))})).on("mouseout",(function(){d.attr("display","block"),u.style("opacity",1),l.style("opacity",1)})),l.on("mouseover",(function(e,t){var n=document.getElementById(e.target.id);new j.a(n,{title:"RippleState",content:"".concat(JSON.stringify(t.rippleState,null,2))}).show()})).on("mouseout",(function(e,t){var n=document.getElementById(e.target.id);j.a.getInstance(n).dispose()})),u.call(p.a().on("start",(function(e,t){e.sourceEvent.stopPropagation(),e.active||r.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y})).on("drag",(function(e,t){t.fx=e.x,t.fy=e.y})).on("end",(function(e,t){e.active||r.alphaTarget(0);t.fx=null,t.fy=null})));var d=o.append("g").attr("class","labelNodes").selectAll("text").data(n.nodes).enter().append("text").text((function(e,t){return t%2===0?"":e.node.id})).style("fill","#555").style("font-family","Arial").style("font-size",12).style("pointer-events","none");function h(e){return isFinite(e)?e:0}function b(e){e.attr("x1",(function(e){return h(e.source.x)})).attr("y1",(function(e){return h(e.source.y)})).attr("x2",(function(e){return h(e.target.x)})).attr("y2",(function(e){return h(e.target.y)}))}function f(e){e.attr("transform",(function(e){return"translate("+h(e.x)+","+h(e.y)+")"}))}return function(){p.k("svg > *").remove()}}),[]),Object(u.jsx)("svg",{ref:t,width:"100vw",height:"100vh",className:"Graph"})},b=n(3),f=n.n(b),x=n(12),g=n(9),m=n(704),O=n(700),v=n(703);var y,w=function(e){var t=e.show,n=e.handleClose;return Object(u.jsxs)(v.a,{show:t,onHide:n,children:[Object(u.jsx)(v.a.Header,{children:Object(u.jsx)(v.a.Title,{children:"In Progress..."})}),Object(u.jsx)(v.a.Body,{children:Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:200},children:Object(u.jsx)("span",{className:"fa fa-spin fa-spinner fa-3x"})})})]})},N=n(17),S=n(2),k=n(705),C=n(282),I=n.n(C),T=n(283),A=n(284),L=n.n(A);function J(e){return new Promise((function(t){setTimeout(t,e)}))}var V=new T.RippleAPI({server:"wss://s.altnet.rippletest.net:51233"});function E(){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=V.generateAddress({test:!0}),e.next=3,L()("https://faucet.altnet.rippletest.net/accounts",{method:"POST",headers:{"Content-Type":"application/json"},data:{destination:t.classicAddress,xrpAmount:"100"}});case 3:return e.next=5,J(1e4);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(f.a.mark((function e(t){var n,a,r,c,s,i,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"rrrrrrrrrrrrrrrrrrrrBZbvji",e.next=3,V.prepareSettings(t.xAddress,{regularKey:"rrrrrrrrrrrrrrrrrrrrBZbvji",disableMasterKey:!0,defaultRipple:!0});case 3:return n=e.sent,e.next=6,V.getLedgerVersion();case 6:return a=e.sent,r=n.instructions.maxLedgerVersion,c=V.sign(n.txJSON,t.secret),s=c.id,i=c.signedTransaction,e.next=13,V.submit(i);case 13:return o=e.sent,console.log(o),l=a+1,e.next=18,z(s,l,r);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getTrustlines(t);case 2:return a=e.sent,e.abrupt("return",a.some((function(e){return e.specification.counterparty===n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return U.apply(this,arguments)}function U(){return(U=Object(x.a)(f.a.mark((function e(t,n){var a,r,c,s,i,o,l,u,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating trust line from ".concat(t.address," to ").concat(n)),a={currency:"AUR",counterparty:n,limit:"999999999",qualityIn:1,qualityOut:1,ripplingDisabled:!1,frozen:!1,memos:[{type:"test",format:"text/plain",data:"Apex Dev Summit"}]},e.next=4,V.prepareTrustline(t.address,a);case 4:return r=e.sent,c=r.instructions.maxLedgerVersion,s=V.sign(r.txJSON,t.secret),i=s.id,console.log("Identifying hash:",i),o=s.signedTransaction,console.log("Signed blob:",o),e.next=13,V.submit(o);case 13:return l=e.sent,console.log("Tentative result code:",l.resultCode),console.log("Tentative result message:",l.resultMessage),e.next=18,V.getLedgerVersion();case 18:return u=e.sent,d=u+1,e.next=22,z(i,d,c);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return H.apply(this,arguments)}function H(){return(H=Object(x.a)(f.a.mark((function e(t){var n,a,r,c,s,i,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Enabling rippling for ".concat(t.address)),e.next=3,V.prepareSettings(t.address,{defaultRipple:!0});case 3:return n=e.sent,a=n.instructions.maxLedgerVersion,r=V.sign(n.txJSON,t.secret),c=r.id,s=r.signedTransaction,e.next=10,V.submit(s);case 10:return i=e.sent,console.log(i.resultCode,i.resultMessage),e.next=14,V.getLedgerVersion();case 14:return o=e.sent,l=o+1,e.next=18,z(c,l,a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n){return W.apply(this,arguments)}function W(){return(W=Object(x.a)(f.a.mark((function e(t,n,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=setInterval(Object(x.a)(f.a.mark((function c(){var s;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,V.getTransaction(t,{minLedgerVersion:n});case 3:s=c.sent,clearInterval(r),"tesSUCCESS"!==s.outcome.result&&e(!1),e(s),c.next=14;break;case 9:if(c.prev=9,c.t0=c.catch(0),"Transaction has not been validated yet; try again later","Transaction has not been validated yet; try again later"!==c.t0.message){c.next=14;break}return c.abrupt("return");case 14:y>a&&(clearInterval(r),e(!1));case 15:case"end":return c.stop()}}),c,null,[[0,9]])}))),1e3)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return q.apply(this,arguments)}function q(){return(q=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getTrustlines(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return K.apply(this,arguments)}function K(){return(K=Object(x.a)(f.a.mark((function e(t){var n,a,r,c,s,i,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.prepareTransaction({TransactionType:"AccountDelete"});case 2:return n=e.sent,a=n.instructions.maxLedgerVersion,console.log("preparedTx:",n),console.log("Transaction cost:",n.instructions.fee,"XRP"),console.log("Transaction expires after ledger:",a),r=V.sign(n.txJSON,t.secret),c=r.id,console.log("Identifying hash:",c),s=r.signedTransaction,console.log("Signed blob:",s),e.next=14,V.submit(s);case 14:return i=e.sent,console.log("Tentative result code:",i.resultCode),console.log("Tentative result message:",i.resultMessage),e.next=19,V.getLedgerVersion();case 19:return o=e.sent,l=o+1,e.next=23,z(c,l,a);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(x.a)(f.a.mark((function e(t,n,a){var r,c,s,i,o,l,u,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getLedgerVersion();case 2:return r=e.sent,c={TransactionType:"Payment",Account:t.address,Amount:a,Destination:n,LastLedgerSequence:r+15},e.next=6,V.prepareTransaction(c);case 6:return s=e.sent,i=s.instructions.maxLedgerVersion,console.log("preparedTx:",s),console.log("Transaction cost:",s.instructions.fee,"XRP"),console.log("Transaction expires after ledger:",i),o=V.sign(s.txJSON,t.secret),l=o.id,console.log("Identifying hash:",l),u=o.signedTransaction,console.log("Signed blob:",u),e.next=18,V.getLedgerVersion();case 18:return r=e.sent,e.next=21,V.submit(u);case 21:if("tesSUCCESS"===(d=e.sent).resultCode){e.next=24;break}return e.abrupt("return",d);case 24:return console.log("Tentative result code:",d.resultCode),console.log("Tentative result message:",d.resultMessage),p=r+1,e.next=29,z(l,p,i);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}V.on("ledger",function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y=t.ledgerVersion,console.log("Ledger version",t.ledgerVersion,"was validated.");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Q=window.localStorage.getItem("graph"),$=I()(JSON.parse(Q));function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(x.a)(f.a.mark((function e(t){var n,a,r,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=t.defaultRipple,(r=(r=window.localStorage.getItem("accounts"))?JSON.parse(r):{})[n]){e.next=16;break}return e.next=6,E();case 6:if(c=e.sent,a){e.next=10;break}return e.next=10,F(c);case 10:r[n]=Object(S.a)({account:c},t),s=JSON.stringify(r,null,2),window.localStorage.setItem("accounts",s),console.log("".concat(n,":"),c.address),e.next=17;break;case 16:throw Error("An account with this ID already exists.");case 17:$.addNode(n),window.localStorage.setItem("graph",JSON.stringify($.serialize()));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n){return ae.apply(this,arguments)}function ae(){return(ae=Object(x.a)(f.a.mark((function e(t,n,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=window.localStorage.getItem("accounts"))?JSON.parse(r):{},e.next=4,B(r[t].account.address,r[n].account.address);case 4:if(e.sent){e.next=7;break}return e.next=7,M(r[t].account,r[n].account.address);case 7:$.addEdge(t,n),$.setEdgeWeight(t,n,0),window.localStorage.setItem("graph",JSON.stringify($.serialize()));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(window.localStorage.getItem("accounts")),e.next=3,X(n[t].account);case 3:$.adjacent(t).forEach((function(e){$.removeEdge(t,e)})),$.removeNode(t),window.localStorage.setItem("graph",JSON.stringify($.serialize())),delete n[t],window.localStorage.setItem("accounts",JSON.stringify(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,n){return se.apply(this,arguments)}function se(){return(se=Object(x.a)(f.a.mark((function e(t,n,a){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,n,a);case 2:return r=e.sent,console.log(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(e){var t=e.show,n=e.handleClose,a=r.a.useState(!1),c=Object(g.a)(a,2),s=c[0],i=c[1],o=r.a.useState({id:"",defaultRipple:!1,blackholed:!1}),l=Object(g.a)(o,2),d=l[0],p=l[1],j=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,V.connect();case 3:return e.next=5,ee(d);case 5:return e.next=7,V.disconnect();case 7:i(!1),n();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(v.a,{show:t,onHide:n,children:[Object(u.jsx)(v.a.Header,{children:Object(u.jsx)(v.a.Title,{children:"Create Node"})}),Object(u.jsx)(v.a.Body,{children:Object(u.jsxs)(k.a,{children:[Object(u.jsxs)(k.a.Group,{className:"mb-3",controlId:"node.Id",children:[Object(u.jsx)(k.a.Label,{children:"Identifier"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:function(e){e.target.value=e.target.value.toUpperCase().replace(" ","_").replace(/[\W]+/g,""),p(Object(S.a)(Object(S.a)({},d),{},Object(N.a)({},e.target.name,e.target.value)))},name:"id"})]}),Object(u.jsx)(k.a.Group,{className:"mb-3",controlId:"node.defaultRipple",children:Object(u.jsx)(k.a.Check,{name:"defaultRipple",type:"checkbox",label:"No Ripple",onChange:function(e){p(Object(S.a)(Object(S.a)({},d),{},Object(N.a)({},e.target.name,e.target.checked)))}})})]})}),Object(u.jsxs)(v.a.Footer,{children:[Object(u.jsx)(O.a,{variant:"secondary",onClick:n,disabled:s,children:"Cancel"}),Object(u.jsx)(O.a,{variant:"primary",onClick:j,disabled:s,children:s?Object(u.jsx)("i",{className:"fas fa-spin fa-spinner"}):"Save"})]})]})},oe=n(287),le=n(706),ue=n(285);var de=function(e){var t=e.show,n=e.handleClose,a=e.selectedNode,c=r.a.useState(!1),s=Object(g.a)(c,2),i=s[0],o=s[1],l=r.a.useState(),d=Object(g.a)(l,2),p=d[0],j=d[1],h=r.a.useState(0),b=Object(g.a)(h,2),m=b[0],y=b[1],w=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,ne(a,p,m);case 3:o(!1),y(0),n();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(v.a,{show:t,onHide:n,children:[Object(u.jsx)(v.a.Header,{children:Object(u.jsx)(v.a.Title,{children:"Create Trust Line"})}),Object(u.jsx)(v.a.Body,{children:Object(u.jsxs)(k.a,{children:[Object(u.jsxs)(k.a.Group,{className:"mb-3",children:[Object(u.jsx)(k.a.Label,{children:"Source Node"}),Object(u.jsx)(k.a.Control,{type:"text",name:"source",value:a,disabled:!0})]}),Object(u.jsx)(k.a.Group,{className:"mb-3",children:Object(u.jsx)(oe.a,{controlId:"floatingSelect",label:"Target Node",children:Object(u.jsxs)(k.a.Control,{as:"select","aria-label":"Target Node",onChange:function(e){e.target.value=e.target.value.toUpperCase().replace(" ","_").replace(/[\W]+/g,""),j(e.target.value)},children:[Object(u.jsx)("option",{children:"Select a target node"}),function(){var e=JSON.parse(localStorage.getItem("accounts"));return Object.keys(e).map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))}()]})})}),Object(u.jsxs)(le.a,{className:"mb-3",children:[Object(u.jsx)(ue.a,{type:"number",onChange:function(e){y(e.target.value)},value:m}),Object(u.jsx)(O.a,{variant:"outline-secondary",onClick:function(){return y(999999999)},children:"Max"})]})]})}),Object(u.jsxs)(v.a.Footer,{children:[Object(u.jsx)(O.a,{variant:"secondary",onClick:n,disabled:i,children:"Cancel"}),Object(u.jsx)(O.a,{variant:"primary",onClick:w,disabled:i,children:i?Object(u.jsx)("i",{className:"fas fa-spin fa-spinner"}):"Save"})]})]})};n(693);var pe=function(){var e=Object(o.f)(),t=r.a.useRef(),n=Object(o.h)().path,a=r.a.useState(),c=Object(g.a)(a,2),s=c[0],i=c[1],l=r.a.useState(void 0),d=Object(g.a)(l,2),p=d[0],j=d[1],h=r.a.useState(!1),b=Object(g.a)(h,2),v=b[0],y=b[1],N=r.a.useState(!1),S=Object(g.a)(N,2),k=S[0],C=S[1],I=r.a.useState(!1),T=Object(g.a)(I,2),A=T[0],L=T[1],J=r.a.useState(void 0),E=Object(g.a)(J,2),R=E[0],P=E[1],B=r.a.useState(JSON.parse(localStorage.getItem("accounts"))||{}),D=Object(g.a)(B,2),M=D[0],U=D[1],F=0!==Object.keys(M).length,H=Object(o.g)(),z=function(e){var t=new FileReader;t.onload=W,t.readAsText(e.target.files[0])};function W(e){var t=JSON.parse(JSON.parse(e.target.result));localStorage.setItem(s,t)}var q=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,G(M[p].account);case 3:M[p].blackholed=!0,localStorage.setItem("accounts",JSON.stringify(M)),U(M),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p||!M[p]){e.next=9;break}return e.next=3,V.connect();case 3:return e.next=5,_(M[p].account.address);case 5:return t=e.sent,P(t),e.next=9,V.disconnect();case 9:case"end":return e.stop()}}),e)})))()}),[p,M]),r.a.useEffect((function(){H.pathname.match(new RegExp("/builder/*."))&&j(H.pathname.split("/")[2])}),[H.pathname]),Object(u.jsxs)("div",{className:"container-fluid mt-5",children:[Object(u.jsx)(w,{show:v,handleClose:function(){return y(!1)}}),Object(u.jsx)(ie,{show:k,handleClose:function(){C(!1),U(JSON.parse(localStorage.getItem("accounts")))}}),Object(u.jsx)(de,{show:A,handleClose:function(){L(!1),U(JSON.parse(localStorage.getItem("accounts")))},selectedNode:p}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-3",children:[Object(u.jsx)("h4",{children:"Nodes"}),Object(u.jsx)("p",{className:"text-muted",children:"Please select a node from the list below or create a new node."}),Object(u.jsx)(m.a,{as:"ul",children:F?Object.keys(M).map((function(t){return Object(u.jsx)(m.a.Item,{as:"li",active:H.pathname==="/builder/".concat(t),onClick:function(){j(t),e.push("/builder/".concat(t))},children:t},t)})):"No nodes created."}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"d-grid gap-1 col-6",children:Object(u.jsx)(O.a,{variant:"secondary",className:"mt-5",onClick:function(){return C(!0)},children:"Create Node"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsxs)("div",{className:"d-grid gap-1",children:[Object(u.jsx)("input",{type:"file",hidden:!0,ref:t,onChange:z}),Object(u.jsx)(O.a,{variant:"secondary",className:"mt-5",onClick:function(){i("graph"),t.current.click()},children:"Import Graph"})]})})]}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-6",children:Object(u.jsxs)("div",{className:"d-grid gap-1",children:[Object(u.jsx)("input",{type:"file",hidden:!0,ref:t,onChange:z}),Object(u.jsx)(O.a,{variant:"secondary",className:"mt-5",onClick:function(){i("accounts"),t.current.click()},children:"Import Accounts"})]})})})]}),Object(u.jsx)("div",{className:"col-md-6 bg-light px-5 py-5",children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:n,children:Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:"Select a node to view info."})}),Object(u.jsxs)(o.a,{path:"".concat(n,"/:nodeId"),children:[Object(u.jsx)("h5",{children:"Account"}),Object(u.jsx)("pre",{children:JSON.stringify(M[p],null,2)}),Object(u.jsx)("h5",{className:"mt-5",children:"Trust Lines"}),R?Object(u.jsx)("pre",{children:JSON.stringify(R,null,2)}):"No account trust lines."]})]})}),Object(u.jsxs)("div",{className:"col-md-3",children:[Object(u.jsx)("h4",{className:"mb-3",children:"Actions"}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(O.a,{variant:"primary",className:"mb-3",disabled:!p,onClick:function(){return L(!0)},children:"Create Trust Line"})}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(O.a,{variant:"primary",className:"mb-3",disabled:!p,onClick:function(){e.push("/validator?account=".concat(p))},children:"Send Payment"})}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(O.a,{variant:"primary",className:"mb-3",disabled:!p,onClick:q,children:"Blackhole Account"})}),Object(u.jsx)("div",{className:"d-grid gap-2",children:Object(u.jsx)(O.a,{variant:"primary",className:"mb-3",disabled:!p,onClick:function(){!function(e){re.apply(this,arguments)}(p)},children:"Delete Account"})})]})]})]})},je=n(701),he=n(286);var be=function(){var e=new URLSearchParams(Object(o.g)().search),t=r.a.useState(!1),n=Object(g.a)(t,2),a=n[0],c=n[1],s=r.a.useState(e.get("account")),i=Object(g.a)(s,2),l=i[0],d=i[1],p=r.a.useState("AUR"),j=Object(g.a)(p,2),h=j[0],b=j[1],m=r.a.useState(1),v=Object(g.a)(m,2),y=v[0],w=v[1],N=r.a.useState(""),S=Object(g.a)(N,2),C=S[0],I=S[1],T=r.a.useState("AUR"),A=Object(g.a)(T,2),L=A[0],J=A[1],E=r.a.useState(1),R=Object(g.a)(E,2),G=R[0],P=R[1],B=r.a.useState(""),D=Object(g.a)(B,2),M=D[0],U=D[1],F=r.a.useState(""),H=Object(g.a)(F,2),z=H[0],W=H[1],_=JSON.parse(localStorage.getItem("accounts")),q=r.a.useState(),X=Object(g.a)(q,2),K=X[0],Z=X[1];r.a.useEffect((function(){var e="wss://s.altnet.rippletest.net:51233/",t=new WebSocket(e);return t.onopen=function(){l&&z&&C&&M&&t.send(JSON.stringify({command:"path_find",destination_account:_[z].account.address,destination_amount:{value:y,currency:h,issuer:_[C].account.address},currency:"AUR",issuer:_[C].account.address,value:"1",id:8,source_account:_[l].account.address,subcommand:"create"}))},t.onmessage=function(e){var t=JSON.parse(e.data);Z(t)},t.onclose=function(){console.log("Disconnected from ".concat(e))},function(){t.close()}}),[l,z,C,M,_,h,y]);var Y=function(){var e=Object(x.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t={currency:h,issuer:_[C].account.address,value:y.toString()},e.next=4,V.connect();case 4:return e.next=6,ce(_[l].account,_[z].account.address,t);case 6:return n=e.sent,alert(JSON.stringify(n)),e.next=10,V.disconnect();case 10:c(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,W(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,w(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,b(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,I(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,P(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,J(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,U(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"container mt-5",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("h4",{children:"Payment Form"}),Object(u.jsxs)("p",{className:"text-muted border rounded p-3",children:[Object(u.jsx)("span",{className:"fa fa-info-circle"})," Use node IDs instead of account addresses."]}),Object(u.jsxs)(k.a,{children:[Object(u.jsx)("h4",{children:"Source"}),Object(u.jsxs)(je.a,{className:"mb-3",children:[Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Source Account"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:Q,defaultValue:l})]}),Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Max Amount"}),Object(u.jsx)(k.a.Control,{type:"number",onChange:ae,defaultValue:G})]})]}),Object(u.jsxs)(je.a,{className:"mb-3",children:[Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Currency"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:re,defaultValue:L})]}),Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Issuer"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:se,defaultValue:M})]})]}),Object(u.jsx)("h4",{children:"Destination"}),Object(u.jsxs)(je.a,{className:"mb-3",children:[Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Destination Account"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:$,defaultValue:z})]}),Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Destination Amount"}),Object(u.jsx)(k.a.Control,{type:"number",onChange:ee,defaultValue:y})]})]}),Object(u.jsxs)(je.a,{className:"mb-3",children:[Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Destination Currency"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:te,defaultValue:h})]}),Object(u.jsxs)(k.a.Group,{as:he.a,children:[Object(u.jsx)(k.a.Label,{children:"Destination Issuer"}),Object(u.jsx)(k.a.Control,{type:"text",onChange:ne,defaultValue:C})]})]})]}),Object(u.jsx)(O.a,{variant:"primary",onClick:Y,disabled:a,children:a?Object(u.jsx)("i",{className:"fas fa-spin fa-spinner"}):"Submit"})]}),Object(u.jsxs)("div",{className:"col-md-6",children:[Object(u.jsx)("h4",{children:"Valid Paths"}),Object(u.jsx)("pre",{className:"bg-light p-5",children:JSON.stringify(K,null,2)})]})]})})};n(694);var fe=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:["RippleGraph ",Object(u.jsx)(l.a,{bg:"primary",pill:!0,children:"BETA"})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/explorer",children:"Explorer"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/builder",children:"Builder"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(i.b,{className:"nav-link",activeClassName:"active","aria-current":"page",to:"/validator",children:"Validator"})})]}),Object(u.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",id:"downloadAnchorElem",onClick:function(){["graph","accounts"].forEach((function(e){var t=JSON.stringify(localStorage.getItem(e)),n="data:text/json;charset=utf-8,"+encodeURIComponent(t),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",e+".json"),document.body.appendChild(a),a.click(),a.remove()}))},children:"Download"})]})]})]})}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(d,{})}),Object(u.jsx)(o.a,{path:"/explorer",children:Object(u.jsx)(h,{})}),Object(u.jsx)(o.a,{path:"/builder",children:Object(u.jsx)(pe,{})}),Object(u.jsx)(o.a,{path:"/validator",children:Object(u.jsx)(be,{})})]})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,707)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(695);s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(fe,{})}),document.getElementById("root")),xe()}},[[696,1,2]]]);
//# sourceMappingURL=main.355826bd.chunk.js.map